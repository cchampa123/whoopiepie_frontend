(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{299:function(e,t,n){},558:function(e,t,n){},562:function(e,t,n){"use strict";n.r(t);var a=n(0),s=n.n(a),i=n(41),o=n.n(i),c=(n(299),n(39)),r=n(91),l=n(36),d=n(16),u=n.n(d),h=n(574),m=n(572),j=n(180),b=Object(a.createContext)(null),v=n(2);var p=function(e){var t=e.comp,n=e.exact,s=e.path;return Object(a.useContext)(b).user?Object(v.jsx)(l.d,{exact:n,path:s,render:function(e){return Object(v.jsx)(t,{})}}):Object(v.jsx)(l.c,{to:"/Login"})};var O=function(){var e=Object(a.useContext)(b),t=e.user,n=e.setUser,s=Object(a.useState)(""),i=Object(c.a)(s,2),o=i[0],r=i[1],d=Object(a.useState)(""),h=Object(c.a)(d,2),m=h[0],j=h[1];return null!==t?Object(v.jsx)(l.c,{to:"/"}):Object(v.jsxs)("div",{children:[Object(v.jsx)("h1",{children:"WhoopiePie"}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Username"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{className:"form-control",type:"text",name:"username",onChange:function(e){r(e.target.value)},value:o})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Password"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{className:"form-control",type:"password",name:"password",onChange:function(e){j(e.target.value)},value:m})})]}),Object(v.jsx)("div",{children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:function(){u.a.post("/api/auth/login",{username:o,password:m}).then((function(e){n(e.data)})).catch((function(e){console.log("error")}))},children:"Log In"})})]})},_=n(46),f=n(5),x=n(24),g=n(25),k=n(21),y=n(26),w=n(27),S=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={youtube_url:"",artist:"",album:"",title:"",audio_video:"audio",tv_show:"",season:"",episode:"",loading:!1},e.handleChange=e.handleChange.bind(Object(k.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"handleChange",value:function(e){this.setState(Object(f.a)(Object(f.a)({},this.state),{},Object(_.a)({},e.target.name,e.target.value)))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{loading:!0})})),u.a.post("/api/downloader/youtube_url/",{youtube_url:this.state.youtube_url,artist:this.state.artist,album:this.state.album,title:this.state.title,tv_show:this.state.tv_show,season:this.state.season,episode:this.state.episode,audio_video:this.state.audio_video}).then((function(e){return t.setState({youtube_url:"",artist:"",album:"",title:"",tv_show:"",season:"",episode:"",audio_video:"audio",loading:!1})}))}},{key:"render",value:function(){var e;return this.state.loading?Object(v.jsx)("h2",{children:"Loading..."}):(e="audio"===this.state.audio_video?Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Artist"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"artist",placeholder:"Insert Artist",onChange:this.handleChange,value:this.state.artist})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Album"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"album",placeholder:"Insert Album",onChange:this.handleChange,value:this.state.album})})]})]}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"TV Show"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"tv_show",placeholder:"Insert Show Title",onChange:this.handleChange,value:this.state.tv_show})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Season"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"season",placeholder:"Insert Season Number",onChange:this.handleChange,value:this.state.season})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Episode"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"episode",placeholder:"Insert Episode Number",onChange:this.handleChange,value:this.state.episode})})]})]}),Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Youtube URL"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"youtube_url",placeholder:"Insert URL",onChange:this.handleChange,value:this.state.youtube_url})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Audio or Video?"}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{name:"audio_video",onChange:this.handleChange,value:this.state.audio_video,children:[Object(v.jsx)("option",{value:"audio",children:"Audio"}),Object(v.jsx)("option",{value:"video",children:"Video"})]})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Title"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{type:"text",name:"title",placeholder:"Insert Title",onChange:this.handleChange,value:this.state.title})})]}),e,Object(v.jsx)("div",{children:Object(v.jsx)("button",{type:"submit",children:"Download"})})]}))}}]),n}(s.a.Component),C=n(100),N=n(34),M=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={newMovementMetricType:"Reps",newMovementMetric:"Weight"},e.handleNewMovementChange=e.handleNewMovementChange.bind(Object(k.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"handleNewMovementChange",value:function(e){this.setState(Object(f.a)(Object(f.a)({},this.state),{},Object(_.a)({},e.target.name,e.target.value)))}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault(),u.a.post("/api/workout/movement_class/",{name:this.props.movement_name,metric_type:this.state.newMovementMetricType,metric:this.state.newMovementMetric}).then((function(e){return u.a.patch("/api/workout/movement_instance/"+String(t.props.movement_id)+"/",{name:e.data.id}).then((function(e){return t.props.completion()}))}))}},{key:"render",value:function(){return Object(v.jsx)(N.a,{show:!0,children:Object(v.jsxs)("form",{onSubmit:this.handleSubmit,children:[Object(v.jsx)(N.a.Header,{children:"Enter Movement Information"}),Object(v.jsx)(N.a.Body,{children:Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Metric Type"}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{name:"newMovementMetricType",className:"custom-select",onChange:this.handleNewMovementChange,value:this.state.newMovementMetricType,children:[Object(v.jsx)("option",{value:"Reps",children:"Reps"}),Object(v.jsx)("option",{value:"Distance",children:"Distance"}),Object(v.jsx)("option",{value:"Calories",children:"Calories"})]})}),Object(v.jsx)("label",{children:"Metric Value"}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{className:"custom-select",name:"newMovementMetric",onChange:this.handleNewMovementChange,value:this.state.newMovementMetric,children:[Object(v.jsx)("option",{value:"Weight",children:"Weight"}),Object(v.jsx)("option",{value:"Time",children:"Time"})]})})]})}),Object(v.jsx)(N.a.Footer,{children:Object(v.jsx)("button",{className:"btn btn-primary",type:"submit",children:"Add Movement"})})]})})}}]),n}(s.a.Component),D=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this,e)).state={movement_data:{id:-1,metric_type_value:"",metric_value:"",name:1,section:a.props.section_id},movement_class_data:{id:1,metric_type:"Reps",metric_value:"Weight",name:""},possible_options:[],duplicate:1,added_new_movement:!1,new_movement_name:""},a.completeAddNewMovement=a.completeAddNewMovement.bind(Object(k.a)(a)),a}return Object(g.a)(n,[{key:"updateMovementData",value:function(){var e=this,t=u.a.get("/api/workout/movement_class/"),n=u.a.get("/api/workout/movement_instance/"+this.props.movement_id+"/");Promise.all([t,n]).then((function(t){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{possible_options:t[0].data.filter((function(e){return 1!==e.id})),movement_data:t[1].data})}))})).then((function(){u.a.get("/api/workout/movement_class/"+e.state.movement_data.name+"/").then((function(t){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{movement_class_data:t.data})}))}))}))}},{key:"componentDidMount",value:function(){this.updateMovementData()}},{key:"componentDidUpdate",value:function(){""!==this.state.movement_data.metric_type_value&&""!==this.state.movement_data.metric_value&&u.a.put("/api/workout/movement_instance/"+String(this.props.movement_id)+"/",this.state.movement_data)}},{key:"changeSelectedMovement",value:function(e){var t=this;e.length>0&&"customOption"in e[0]?this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{added_new_movement:!0,new_movement_name:e[0].name})})):e.length>0&&u.a.patch("/api/workout/movement_instance/"+this.props.movement_id+"/",{name:e[0].id}).then((function(){return t.updateMovementData()}))}},{key:"completeAddNewMovement",value:function(){this.updateMovementData(),this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{added_new_movement:!1,new_movement_name:""})}))}},{key:"changeMovementData",value:function(e){e.persist(),this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{movement_data:Object(f.a)(Object(f.a)({},t.movement_data),{},Object(_.a)({},e.target.name,e.target.value))})}))}},{key:"render",value:function(){var e=this;return this.state.added_new_movement?Object(v.jsx)(M,{movement_name:this.state.new_movement_name,movement_id:this.props.movement_id,completion:this.completeAddNewMovement}):Object(v.jsxs)("div",{className:"row row-cols-3",children:[this.props.editing_movements&&Object(v.jsx)("input",{className:"form-check-input",type:"checkbox",checked:this.props.checked,onChange:this.props.onChangeCallback}),Object(v.jsx)(C.a,{allowNew:!0,newSelectionPrefix:"Add a new movement: ",labelKey:"name",options:this.state.possible_options,id:"movementTypeahead",className:"col",style:{paddingLeft:0,paddingRight:0},onChange:function(t){return e.changeSelectedMovement(t)},onInputChange:function(t){return e.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{movement_class_data:Object(f.a)(Object(f.a)({},e.state.movement_class_data),{},{name:t})})}))},selected:[this.state.movement_class_data],placeholder:"Movement"}),Object(v.jsx)("input",{className:"form-control col",type:"number",name:"metric_type_value",value:this.state.movement_data.metric_type_value,placeholder:this.state.movement_class_data.metric_type,onChange:function(t){return e.changeMovementData(t)}}),Object(v.jsx)("input",{className:"form-control col",type:"number",name:"metric_value",value:this.state.movement_data.metric_value,placeholder:this.state.movement_class_data.metric,onChange:function(t){return e.changeMovementData(t)}})]})}}]),n}(s.a.PureComponent),T=n(269),A=n.n(T),W=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(e){var a;return Object(x.a)(this,n),(a=t.call(this)).state={metric_type:"For Time",rounds:1,time:"00:00:00",workout:"",section_type:"Strength",movements:[]},a}return Object(g.a)(n,[{key:"componentDidMount",value:function(){this.setState({metric_type:this.props.data.metric_type,rounds:this.props.data.rounds,time:this.props.data.time,workout:this.props.data.workout,movements:this.props.data.movements,section_type:this.props.data.section_type})}},{key:"componentWillUnmount",value:function(){this.props.updateSectionInfo(this.state)}},{key:"handleChange",value:function(e,t){this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},Object(_.a)({},t,e))}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)(N.a,{show:this.props.data.show_editor,children:[Object(v.jsx)(N.a.Header,{children:"Enter Section Information"}),Object(v.jsxs)(N.a.Body,{children:[Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Metric Type"}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{name:"metric_type",className:"custom-select",onChange:function(t){return e.handleChange(t.target.value,t.target.name)},value:this.state.metric_type,children:[Object(v.jsx)("option",{value:"For Time",children:"For Time"}),Object(v.jsx)("option",{value:"AMRAP",children:"AMRAP"})]})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Rounds"}),Object(v.jsx)("div",{children:Object(v.jsx)("input",{name:"rounds",className:"form-control",onChange:function(t){return e.handleChange(t.target.value,t.target.name)},value:this.state.rounds})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{children:"Time"}),Object(v.jsx)("div",{children:Object(v.jsx)(A.a,{name:"time",className:"form-control",style:{width:170},value:this.state.time,showSeconds:"true",onChange:function(t,n){return e.handleChange(n,"time")}})})]}),Object(v.jsxs)("div",{className:"form-group",children:[Object(v.jsx)("label",{className:"control-label",children:"Section Type"}),Object(v.jsx)("div",{children:Object(v.jsxs)("select",{name:"section_type",className:"custom-select",value:this.state.section_type,onChange:function(t){return e.handleChange(t.target.value,t.target.name)},children:[Object(v.jsx)("option",{value:"Strength",children:"Strength"}),Object(v.jsx)("option",{value:"MetCon",children:"MetCon"}),Object(v.jsx)("option",{value:"Conditioning",children:"Conditioning"})]})})]})]}),Object(v.jsx)(N.a.Footer,{children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.props.finishEditing,children:"Submit Section"})})]})}}]),n}(s.a.Component),L=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={confirmation:!1},e.delete=e.delete.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"delete",value:function(){var e=this;u.a.delete("/api/workout/"+this.props.type_of_object+"/"+this.props.object_id).then((function(){e.setState({confirmation:!1}),e.props.callback()}))}},{key:"render",value:function(){var e=this;return Object(v.jsxs)("div",{children:[Object(v.jsxs)(N.a,{show:this.state.confirmation,children:[Object(v.jsx)(N.a.Body,{children:"Are you sure you want to delete this object?"}),Object(v.jsxs)(N.a.Footer,{children:[Object(v.jsx)("button",{onClick:this.delete,className:"btn btn-danger",children:"Confirm"}),Object(v.jsx)("button",{onClick:function(){return e.setState({confirmation:!1})},className:"btn btn-primary",children:"Cancel"})]})]}),Object(v.jsx)("button",{onClick:function(){return e.setState({confirmation:!0})},className:"btn btn-danger btn-block btn-"+this.props.size,children:this.props.text})]})}}]),n}(s.a.Component),R=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={id:-1,metric_type:"For Time",rounds:1,time:"00:00:00",section_type:"Strength",workout:"",movements:[],show_editor:!1,movements_to_delete:[],editing_movements:!1,confirmDeleteMovements:!1},e.addMovement=e.addMovement.bind(Object(k.a)(e)),e.updateSectionInfo=e.updateSectionInfo.bind(Object(k.a)(e)),e.reset_function=e.reset_function.bind(Object(k.a)(e)),e.changeMovementDeletionStatus=e.changeMovementDeletionStatus.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/section/"+this.props.section_id+"/").then((function(t){e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{id:t.data.id,metric_type:t.data.metric_type,rounds:t.data.rounds,time:t.data.time,workout:t.data.workout,movements:t.data.movements,section_type:t.data.section_type})}))}))}},{key:"componentDidUpdate",value:function(){u.a.put("/api/workout/section/"+this.props.section_id+"/",{id:this.state.id,metric_type:this.state.metric_type,rounds:this.state.rounds,time:this.state.time,workout:this.state.workout,movements:this.state.movements,section_type:this.state.section_type})}},{key:"addMovement",value:function(){var e=this;u.a.post("/api/workout/movement_instance/",{metric_type_value:0,metric_value:0,name:1,section:this.props.section_id}).then((function(t){e.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{movements:e.state.movements.concat(t.data.id)})}))}))}},{key:"handleChange",value:function(e,t){this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},Object(_.a)({},t,e))}))}},{key:"createText",value:function(){var e=this.state.rounds>1?"rounds":"round";return"AMRAP"===this.state.metric_type?"AMRAP "+this.state.time+" - "+this.state.rounds+" "+e+":":this.state.rounds+" "+e+" for time:"}},{key:"updateSectionInfo",value:function(e){this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{metric_type:e.metric_type,rounds:e.rounds,time:e.time,workout:e.workout,section_type:e.section_type})}))}},{key:"reset_function",value:function(){this.props.section_remover(this.props.section_id)}},{key:"changeMovementDeletionStatus",value:function(e){var t=this;this.state.movements_to_delete.indexOf(e)>-1?this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{movements_to_delete:t.state.movements_to_delete.filter((function(t){return t!==e}))})})):this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},{movements_to_delete:t.state.movements_to_delete.concat(e)})}))}},{key:"deleteMovements",value:function(){var e=this.state.movements_to_delete.map((function(e){return u.a.delete("/api/workout/movement_instance/"+e+"/")}));this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{movements:e.movements.filter((function(t){return e.movements_to_delete.indexOf(t)<=-1})),movements_to_delete:[],editing_movements:!1,confirmDeleteMovements:!1})})),Promise.all(e)}},{key:"render",value:function(){var e=this,t=this.state.movements.map((function(e,t){var n=this;return e?Object(v.jsx)(D,{checked:this.state.movements_to_delete.indexOf(e)>-1,editing_movements:this.state.editing_movements,onChangeCallback:function(){return n.changeMovementDeletionStatus(e)},movement_id:e,section_id:this.props.section_id},e):null}),this);return Object(v.jsxs)("div",{className:"card",style:{width:"100%"},children:[this.state.show_editor?Object(v.jsx)(W,{data:this.state,updateSectionInfo:this.updateSectionInfo,finishEditing:function(){return e.handleChange(!1,"show_editor")}}):Object(v.jsx)("div",{}),Object(v.jsxs)("div",{className:"card-header",children:[Object(v.jsx)("h4",{children:this.state.section_type}),Object(v.jsx)("h5",{children:this.createText()}),Object(v.jsxs)("div",{className:"row",children:[Object(v.jsx)("button",{className:"btn btn-warning btn",onClick:function(){return e.handleChange(!0,"show_editor")},children:"Edit Information"}),Object(v.jsx)(L,{type_of_object:"section",object_id:this.props.section_id,callback:this.reset_function,text:"Delete Section"}),this.state.editing_movements?Object(v.jsxs)("div",{children:[Object(v.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{editing_movements:!1})}))},children:"Stop editing"}),Object(v.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{confirmDeleteMovements:!0})}))},children:"Delete Movements"}),Object(v.jsxs)(N.a,{show:this.state.confirmDeleteMovements,children:[Object(v.jsx)(N.a.Body,{children:"Are you sure you want to delete these movements?"}),Object(v.jsxs)(N.a.Footer,{children:[Object(v.jsx)("button",{className:"btn btn-danger",onClick:function(){return e.deleteMovements()},children:"Confirm"}),Object(v.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{editing_movements:!1,confirmDeleteMovements:!1})}))},children:"Cancel"})]})]})]}):Object(v.jsx)("button",{className:"btn btn-secondary",onClick:function(){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{editing_movements:!0})}))},children:"Edit Movements"})]})]}),Object(v.jsx)("div",{className:"card-body",children:t}),Object(v.jsx)("div",{className:"card-footer",children:Object(v.jsx)("button",{className:"btn btn-secondary",onClick:this.addMovement,children:"Add Movement"})})]})}}]),n}(s.a.Component),I=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={users:[],share_confirm:!1,final_confirm:!1,selected_user:{}},e.confirm=e.confirm.bind(Object(k.a)(e)),e.reject=e.confirm.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/auth/user").then((function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{users:t.data}))}))}},{key:"confirm",value:function(){var e=this;u.a.put("api/workout/workout/"+this.props.workout_id+"/",{},{params:{user_to_share_with:this.state.selected_user.id}}).then((function(){return e.setState({users:[],share_confirm:!1,final_confirm:!1,selected_user:{}})}))}},{key:"reject",value:function(){this.setState({users:[],share_confirm:!1,final_confirm:!1,selected_user:{}})}},{key:"render",value:function(){var e=this,t=this.state.share_confirm?Object(v.jsx)(C.a,{allowNew:!0,labelKey:"username",options:this.state.users,id:"userTypeahead",onChange:function(t){e.setState(Object(f.a)(Object(f.a)({},e.state),{},{selected_user:t[0],final_confirm:!0}))},placeholder:"Share with..."}):Object(v.jsx)("button",{className:"btn btn-info btn-block w-100 h-100",name:"share_workout",onClick:function(){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{share_confirm:!0}))},children:"Share Workout"});return Object(v.jsxs)("div",{className:"h-100 w-100",children:[t,Object(v.jsxs)(N.a,{show:this.state.final_confirm,children:[Object(v.jsx)(N.a.Header,{children:"Confirm choice"}),Object(v.jsxs)(N.a.Body,{children:["Are you sure you want to share this workout with ",this.state.selected_user.username,"?"]}),Object(v.jsxs)(N.a.Footer,{children:[Object(v.jsx)("button",{className:"btn btn-success",onClick:this.confirm,children:"Yes"}),Object(v.jsx)("button",{className:"btn btn-danger",onClick:this.reject,children:"No"})]})]})]})}}]),n}(s.a.Component),P=n(270),F=n.n(P),U=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={sections:[],start_time:null,end_time:null,scheduled_for:null},e.addSection=e.addSection.bind(Object(k.a)(e)),e.handleAddNewSection=e.handleAddNewSection.bind(Object(k.a)(e)),e.handleChange=e.handleChange.bind(Object(k.a)(e)),e.removeSection=e.removeSection.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/workout/"+String(this.props.workout_id)+"/").then((function(t){var n=new Date(Date.parse(t.data.scheduled_for)).getUTCDate(),a=new Date(Date.parse(t.data.scheduled_for)).getUTCFullYear(),s=new Date(Date.parse(t.data.scheduled_for)).getUTCMonth()+1,i=n?a+"-"+s+"-"+n:null;e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{sections:t.data.sections,start_time:t.data.start_time,end_time:t.data.end_time,scheduled_for:i})}))}))}},{key:"componentDidUpdate",value:function(e,t){u.a.patch("/api/workout/workout/"+String(this.props.workout_id)+"/",{scheduled_for:this.state.scheduled_for,start_time:this.state.start_time,end_time:this.state.end_time})}},{key:"removeSection",value:function(e){this.setState(Object(f.a)(Object(f.a)({},this.state),{},{sections:this.state.sections.filter((function(t){return t!==e}))}))}},{key:"addSection",value:function(){var e=this;u.a.post("/api/workout/section/",{metric_type:"For Time",rounds:1,workout:this.props.workout_id,time:"00:00:00",movements:[]}).then((function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{sections:e.state.sections.concat(t.data.id)}))}))}},{key:"handleAddNewSection",value:function(e){this.setState(Object(f.a)(Object(f.a)({},this.state),{},{added_new_section:!1,sections:this.state.sections.concat(e.id)}))}},{key:"handleChange",value:function(e){this.setState(Object(_.a)({},e.target.name,new Date))}},{key:"render",value:function(){var e=this,t=this.state.sections.map((function(e,t){return Object(v.jsx)(R,{section_id:e,workout_id:this.props.workout_id,section_remover:this.removeSection},t)}),this),n=null===this.state.start_time?Object(v.jsx)("div",{className:"col",style:{paddingLeft:0,paddingRight:0},children:Object(v.jsx)("button",{className:"btn btn-success btn-block w-100 h-100",name:"start_time",onClick:function(t){return e.handleChange(t)},children:"Start Workout"})}):Object(v.jsx)("div",{className:"col",style:{paddingLeft:0,paddingRight:0},children:Object(v.jsx)("button",{className:"btn btn-danger w-100 h-100",name:"end_time",onClick:function(t){return e.handleChange(t)},children:"End Workout"})}),a=null!==this.state.end_time&null!==this.state.start_time?Object(v.jsxs)("div",{className:"row g-0",children:[Object(v.jsxs)("div",{className:"btn btn-warning disabled col h-100 w-100",children:["Workout completed on ",this.state.end_time.toLocaleString()]}),Object(v.jsx)(L,{type_of_object:"workout",object_id:this.props.workout_id,callback:this.props.reset_function,text:"Delete Workout"})]}):Object(v.jsxs)("div",{className:"row g-0",style:{marginLeft:0,marginRight:0},children:[Object(v.jsx)("div",{className:"col",style:{paddingLeft:0,paddingRight:0},children:Object(v.jsx)(F.a,{disableClock:!0,className:"form-control p-0 w-100 h-100",value:this.state.scheduled_for?new Date(this.state.scheduled_for.split("-")[0],this.state.scheduled_for.split("-")[1]-1,this.state.scheduled_for.split("-")[2]):null,onChange:function(t){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{scheduled_for:t?t.getUTCFullYear()+"-"+String(t.getUTCMonth()+1)+"-"+t.getUTCDate():null})}))}})}),n,Object(v.jsx)("div",{className:"col",style:{paddingLeft:0,paddingRight:0},children:Object(v.jsx)(I,{workout_id:this.props.workout_id})}),Object(v.jsx)("div",{className:"col",style:{paddingLeft:0,paddingRight:0},children:Object(v.jsx)(L,{type_of_object:"workout",object_id:this.props.workout_id,callback:this.props.reset_function,text:"Delete Workout"})})]});return Object(v.jsxs)("div",{className:"container g-0",children:[a,Object(v.jsx)("div",{className:"row",children:t}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("button",{className:"btn btn-primary btn-block",onClick:this.addSection,children:"Add Section"})}),Object(v.jsx)("div",{className:"row",children:Object(v.jsx)("button",{className:"btn btn-block btn-info",onClick:this.props.reset_function,children:"Back to Workout Home"})})]})}}]),n}(s.a.Component),B=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={movement_data:{id:null,metric_type_value:null,metric_value:null,name:null},movement_class_data:{id:null,name:"",metric_type:"",metric:""}},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/movement_instance/"+String(this.props.movement_id)+"/").then((function(e){return Promise.all([e,u.a.get("/api/workout/movement_class/"+String(e.data.name)+"/")])})).then((function(t){var n=Object(c.a)(t,2),a=n[0],s=n[1];e.setState({movement_data:{id:a.data.id,metric_type_value:a.data.metric_type_value,metric_value:a.data.metric_value,name:a.data.name},movement_class_data:{id:s.data.id,name:s.data.name,metric_type:s.data.metric_type,metric:s.data.metric}})}))}},{key:"render",value:function(){var e=this.state.movement_class_data.name+" : "+this.state.movement_data.metric_type_value+"@"+this.state.movement_data.metric_value;return Object(v.jsx)("p",{style:{margin:0,paddingTop:0},children:e})}}]),n}(s.a.Component),Y=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={id:null,metric_type:"",rounds:null,time:null,movements:[]},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/section/"+String(this.props.section_id)+"/").then((function(t){e.setState({id:t.data.id,metric_type:t.data.metric_type,rounds:t.data.rounds,time:t.data.time,movements:t.data.movements})}))}},{key:"createText",value:function(){var e=this.state.rounds>1?"rounds":"round";return"AMRAP"===this.state.metric_type?"AMRAP "+this.state.time+" - "+this.state.rounds+" "+e+":":this.state.rounds+" "+e+" for time:"}},{key:"render",value:function(){var e=this.state.movements.map((function(e){return Object(v.jsx)(B,{movement_id:e},e)})),t=this.createText();return Object(v.jsxs)("li",{className:"list-group-item",children:[Object(v.jsx)("p",{children:t}),e]})}}]),n}(s.a.Component),E=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={id:null,start_time:null,end_time:null,scheduled_for:null,sections:[]},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/workout/"+String(this.props.workout_id)+"/").then((function(t){e.setState({id:t.data.id,start_time:t.data.start_time,end_time:t.data.end_time,scheduled_for:t.data.scheduled_for,sections:t.data.sections})}))}},{key:"render",value:function(){var e=this.state.sections.map((function(e){return Object(v.jsx)(Y,{section_id:e},e)}));return Object(v.jsx)("div",{className:"card mb-3",style:{maxWidth:"20rem"},onClick:this.props.onClick,children:Object(v.jsx)("div",{className:"card-body",children:Object(v.jsx)("ul",{className:"list-group list-group-flush",children:e})})})}}]),n}(s.a.Component);function H(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"-",t=new Date,n=t.getDate(),a=t.getMonth()+1,s=t.getFullYear();return"".concat(s).concat(e).concat(a<10?"0".concat(a):"".concat(a)).concat(e).concat(n)}function K(e){var t=e.toLocaleString().split(", ")[0].split("/"),n=String(t[2]),a=t[0]<10?"0".concat(t[0]):String(t[0]),s=t[1]<10?"0".concat(t[1]):String(t[1]);return n?n+"-"+a+"-"+s:null}var V=n(271),z=n.n(V),J=(n(353),function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={selected_workout:"",scheduled_workouts:[],scheduled_day_to_view:new Date,random_workouts:[],previous_workouts:[]},e.handleStartWorkout=e.handleStartWorkout.bind(Object(k.a)(e)),e.loadWorkout=e.loadWorkout.bind(Object(k.a)(e)),e.resetWorkout=e.resetWorkout.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"updateData",value:function(){var e=this,t=u.a.get("/api/workout/workout/",{params:{scheduled_for:H(),end_time__isnull:!0}}),n=u.a.get("/api/workout/workout/",{params:{scheduled_for:K(this.state.scheduled_day_to_view)}});Promise.all([t,n]).then((function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{scheduled_workouts:t[0].data.map((function(e){return e.id})),previous_workouts:t[1].data.map((function(e){return e.id}))}))}))}},{key:"componentDidMount",value:function(){this.updateData()}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.selected_workout!==t.selected_workout&&""===this.state.selected_workout?this.updateData():this.state.scheduled_day_to_view!==t.scheduled_day_to_view&&u.a.get("/api/workout/workout/",{params:{scheduled_for:K(this.state.scheduled_day_to_view)}}).then((function(e){return n.setState(Object(f.a)(Object(f.a)({},n.state),{},{previous_workouts:e.data.map((function(e){return e.id}))}))}))}},{key:"handleStartWorkout",value:function(e){var t=this;u.a.post("/api/workout/workout/",{start_time:null,end_time:null,scheduled_for:null,sections:[]}).then((function(e){t.setState(Object(f.a)(Object(f.a)({},t.state),{},{selected_workout:e.data.id}))}))}},{key:"loadWorkout",value:function(e){this.setState(Object(f.a)(Object(f.a)({},this.state),{},{selected_workout:e}))}},{key:"resetWorkout",value:function(){this.setState(Object(f.a)(Object(f.a)({},this.state),{},{selected_workout:""}))}},{key:"render",value:function(){var e=this;if(""!==this.state.selected_workout)return Object(v.jsx)(U,{workout_id:this.state.selected_workout,reset_function:this.resetWorkout});var t=0===this.state.scheduled_workouts.length?Object(v.jsxs)("div",{className:"jumbotron",children:[Object(v.jsx)("h4",{children:"Done for today!"}),Object(v.jsx)("p",{children:"You have no workout scheduled."})]}):Object(v.jsxs)("div",{className:"jumbotron",children:[Object(v.jsx)("h4",{children:"On deck for today:"}),Object(v.jsxs)("p",{children:["You have ",this.state.scheduled_workouts.length," ",1===this.state.scheduled_workouts.length?"workout":"workouts"," scheduled for today. Check ",1===this.state.scheduled_workouts.length?"it":"them"," out:"]}),this.state.scheduled_workouts.map((function(t){return Object(v.jsx)(E,{workout_id:t,onClick:function(){return e.loadWorkout(t)}},t)}))]}),n=0===this.state.previous_workouts.length?Object(v.jsx)("div",{}):Object(v.jsx)("div",{children:this.state.previous_workouts.map((function(t){return Object(v.jsx)(E,{workout_id:t,onClick:function(){return e.loadWorkout(t)}},t)}))});return Object(v.jsxs)("div",{children:[t,Object(v.jsxs)("div",{className:"jumbotron",children:[Object(v.jsx)("h4",{children:"Browse scheduled workouts"}),Object(v.jsx)(z.a,{disableClock:!0,className:"form-control",selected:this.state.scheduled_day_to_view,onChange:function(t){return e.setState(Object(f.a)(Object(f.a)({},e.state),{},{scheduled_day_to_view:t}))}}),n]}),Object(v.jsx)("div",{style:{paddingTop:"15px"},children:Object(v.jsx)("button",{className:"btn btn-primary",onClick:this.handleStartWorkout,children:"Plan New Workout"})})]})}}]),n}(s.a.Component)),q=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)(J,{})})}}]),n}(s.a.Component),G=n(567),Q=n(571),X=n(287),Z=n(288),$=n(121),ee=n(290),te=n(187),ne=n.n(te),ae=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={movement_history:[],loading:!0},e.customTooltip=e.customTooltip.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/movement_instance/",{params:{name:this.props.movement.id,section__workout__end_time__isnull:!1,agg_column:"metric_value",agg_func:"max",group_columns:"section__workout__end_time,metric_type_value"}}).then((function(t){return e.setState({movement_history:t.data.map((function(e){return Object(f.a)(Object(f.a)({},e),{},{completed_on:new Date(e.section__workout__end_time).getTime()})})),loading:!1})}))}},{key:"customTooltip",value:function(e){return e.active&&null!=e.payload&&null!=e.payload[0]?Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("p",{children:ne()(e.payload[0].payload.completed_on).format("MMM DD, YYYY")}),Object(v.jsx)("p",{children:e.payload[0].payload.metric_type_value+" "+this.props.movement.metric_type+" at "+e.payload[0].payload.value})]}):""}},{key:"render",value:function(){var e=0===this.state.movement_history.length?{}:this.state.movement_history.reduce((function(e,t){var n=t.metric_type_value;return e[n]=(e[n]||[]).concat(t),e}),{});return Object(v.jsxs)("div",{className:"card",children:[Object(v.jsx)("div",{className:"card-header",children:Object(v.jsx)("h5",{children:this.props.movement.name})}),Object(v.jsx)("div",{className:"card-body",children:this.state.loading?Object(v.jsx)("p",{children:"Loading..."}):Object(v.jsxs)(G.a,{width:300,height:300,children:[Object(v.jsx)(Q.a,{stroke:"#ccc"}),Object(v.jsx)(X.a,{dataKey:"completed_on",type:"number",domain:["auto","auto"],tickCount:5,tickFormatter:function(e){return ne()(e).format("M/D")}}),Object(v.jsx)(Z.a,{}),Object(v.jsx)($.a,{content:this.customTooltip}),Object.entries(e).map((function(e){return Object(v.jsx)(ee.a,{data:e[1],dataKey:"value"},e[0])}))]})})]})}}]),n}(s.a.Component),se=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={movements:[],loading:!0},e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/movement_class/").then((function(t){return e.setState({movements:t.data,loading:!1})}))}},{key:"render",value:function(){return Object(v.jsx)("div",{children:this.state.loading?Object(v.jsx)("div",{}):this.state.movements.map((function(e){return Object(v.jsx)(ae,{movement:e},e.id)}))})}}]),n}(s.a.Component),ie=(n(557),function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={section_type:"",movements:[],filtered_movements:[],sections:[],loading:!0},e.handleChange=e.handleChange.bind(Object(k.a)(e)),e.changeTypeaheadSelected=e.changeTypeaheadSelected.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"componentDidMount",value:function(){var e=this;u.a.get("/api/workout/movement_class/").then((function(t){return e.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{movements:t.data,loading:!1})}))}))}},{key:"componentDidUpdate",value:function(e,t){var n=this;this.state.filtered_movements!==t.filtered_movements&&0!==this.state.filtered_movements.length&&u.a.get("/api/workout/section/",{params:{movement:this.state.filtered_movements.map((function(e){return e.id})).join(),section_type:this.state.section_type}}).then((function(e){return n.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{sections:e.data})}))}))}},{key:"handleChange",value:function(e,t){this.setState((function(n){return Object(f.a)(Object(f.a)({},n),{},Object(_.a)({},e,t))}))}},{key:"changeTypeaheadSelected",value:function(e){0===e.length?this.setState((function(e){return Object(f.a)(Object(f.a)({},e),{},{filtered_movements:[],sections:[]})})):this.setState((function(t){return Object(f.a)(Object(f.a)({},t),{},{filtered_movements:e})}))}},{key:"render",value:function(){var e=this;return Object(v.jsx)("div",{children:this.state.loading?Object(v.jsx)("div",{}):Object(v.jsxs)("div",{children:[Object(v.jsxs)("div",{children:[Object(v.jsx)("h5",{children:"Search"}),Object(v.jsxs)("div",{children:[Object(v.jsxs)("select",{name:"section_type",className:"custom-select",value:this.state.section_type,onChange:function(t){return e.handleChange(t.target.name,t.target.value)},children:[Object(v.jsx)("option",{value:"Strength",children:"Strength"}),Object(v.jsx)("option",{value:"MetCon",children:"MetCon"}),Object(v.jsx)("option",{value:"Conditioning",children:"Conditioning"})]}),Object(v.jsx)(C.a,{id:"movementSearcher",labelKey:"name",multiple:!0,onChange:function(t){return e.changeTypeaheadSelected(t)},options:this.state.movements,placeholder:"Search for movements",selected:this.state.filtered_movements})]})]}),Object(v.jsx)("div",{className:"container",children:this.state.sections.map((function(e){return Object(v.jsx)(Y,{section_id:e.id},e.id)}))})]})})}}]),n}(s.a.Component)),oe=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){var e;return Object(x.a)(this,n),(e=t.call(this)).state={selected_item:"Movement Library"},e.changeSelected=e.changeSelected.bind(Object(k.a)(e)),e}return Object(g.a)(n,[{key:"changeSelected",value:function(e){this.setState({selected_item:e.target.name})}},{key:"render",value:function(){var e,t=this;return"Movement Library"===this.state.selected_item?e=Object(v.jsx)(se,{}):"Section Browser"===this.state.selected_item&&(e=Object(v.jsx)(ie,{})),Object(v.jsxs)("div",{children:[Object(v.jsx)("ul",{className:"nav nav-pills nav-fill",children:["Movement Library","Section Browser"].map((function(e){return Object(v.jsx)("li",{name:e,className:"nav-item",onClick:function(){return t.setState({selected_item:e})},children:Object(v.jsx)("button",{className:"btn-block "+(t.state.selected_item===e?"nav-link active":"nav-link"),children:e})},e)}))}),e]})}}]),n}(s.a.Component),ce=function(e){Object(y.a)(n,e);var t=Object(w.a)(n);function n(){return Object(x.a)(this,n),t.apply(this,arguments)}return Object(g.a)(n,[{key:"render",value:function(){return Object(v.jsx)("div",{children:Object(v.jsx)("p",{children:"Welcome to WhoopiePie. Select a page from the menu. "})})}}]),n}(s.a.Component);n(558);var re=function(e){var t=Object(a.useState)(null),n=Object(c.a)(t,2),s=n[0],i=n[1],o=Object(a.useMemo)((function(){return{user:s,setUser:i}}),[s,i]);return console.log(""),u.a.interceptors.request.use((function(e){if(s){var t="Token "+s.token;e.headers.Authorization=t}return e})),u.a.interceptors.response.use((function(e){return e}),(function(e){401===e.response.status&&window.location.reload(!1)})),Object(v.jsx)(b.Provider,{value:o,children:Object(v.jsxs)(r.BrowserRouter,{children:[s?Object(v.jsxs)(h.a,{bg:"dark",variant:"dark",expand:"lg",collapseOnSelect:!0,children:[Object(v.jsx)(j.LinkContainer,{to:"/",children:Object(v.jsx)(h.a.Brand,{style:{color:"rgb(170,170,170)"},children:"WhoopiePie"})}),Object(v.jsx)(h.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(v.jsx)(h.a.Collapse,{id:"basic-navbar-nav",children:Object(v.jsxs)(m.a,{className:"mr-auto",children:[[{link:"/youtube",text:"Youtube Downloader"},{link:"/workout",text:"Workout Tracker"},{link:"/reporter",text:"Workout Reports"},{link:"/",text:"Home"}].map((function(e,t){return Object(v.jsx)(j.LinkContainer,{to:e.link,children:Object(v.jsx)(m.a.Link,{children:e.text})},t)})),Object(v.jsx)(m.a.Link,{onClick:function(){u.a.post("/api/auth/logout").then((function(){return i(null)}))},children:"Log Out"})]})})]}):Object(v.jsx)("div",{}),Object(v.jsx)("div",{className:"container",style:{paddingTop:30},children:Object(v.jsxs)(l.g,{children:[Object(v.jsx)(p,{exact:!0,path:"/",comp:ce}),Object(v.jsx)(p,{exact:!0,path:"/youtube",comp:S}),Object(v.jsx)(p,{exact:!0,path:"/workout",comp:q}),Object(v.jsx)(p,{exact:!0,path:"/reporter",comp:oe}),Object(v.jsx)(l.d,{exact:!0,path:"/login",render:function(){return Object(v.jsx)(O,{})}})]})})]})})},le=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,575)).then((function(t){var n=t.getCLS,a=t.getFID,s=t.getFCP,i=t.getLCP,o=t.getTTFB;n(e),a(e),s(e),i(e),o(e)}))};o.a.render(Object(v.jsx)(s.a.StrictMode,{children:Object(v.jsx)(re,{})}),document.getElementById("root")),le()}},[[562,1,2]]]);
//# sourceMappingURL=main.89c8eb69.chunk.js.map